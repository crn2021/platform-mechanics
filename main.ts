controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    mySprite.vy = -150
})
controller.B.onEvent(ControllerButtonEvent.Pressed, function () {
    projectile = sprites.createProjectileFromSprite(img`
        ........................
        ........................
        ........................
        ........................
        ..........ffff..........
        ........ff1111ff........
        .......fb111111bf.......
        .......f1111111df.......
        ......fd1111111ddf......
        ......fd111111dddf......
        ......fd111ddddddf......
        ......fd1dfbddddbf......
        ......fbddfcdbbbcf......
        .......f11111bbcf.......
        .......f1b1fffff........
        .......fbfc111bf........
        ........ff1b1bff........
        .........fbfbfff.f......
        ..........ffffffff......
        ............fffff.......
        ........................
        ........................
        ........................
        ........................
        `, mySprite, 50, 50)
    projectile.setFlag(SpriteFlag.GhostThroughWalls, true)
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    tiles.setWallAt(tiles.locationInDirection(tiles.locationOfSprite(mySprite), CollisionDirection.Bottom), true)
    tiles.setTileAt(tiles.locationInDirection(tiles.locationOfSprite(mySprite), CollisionDirection.Bottom), sprites.dungeon.stairEast)
})
scene.onOverlapTile(SpriteKind.Projectile, sprites.dungeon.stairEast, function (sprite, location) {
    tiles.setWallAt(location, false)
    tiles.setTileAt(location, assets.tile`transparency16`)
})
let projectile: Sprite = null
let mySprite: Sprite = null
scene.setBackgroundImage(img`
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666454666666666666666666666645466666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666454666666666666666666666645466666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666454666666666666666666666645466666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666454666666666666666666666645466666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666454666666666666666666666645466666666666666666666666666666999999996666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666454666666666666666666666645466666666666666666666666666669999999999666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666454666666666666666666666645466666666666666666666666666699999999999966666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666454666666666666666666666645466666666666666666666666666999999999999999669999999666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666454666666666666666666666645466666666666666669999996669999966699999996699966999966666666666666666666666666666666666666666666666666666666666666
    6666666666666666666454666666666666666666666645466666666666666699999999969999669669999996999666699996666666666666666666666666666666666666666666666666666666666666
    666666666666666666645466666666666666666666664546666666666666699999999966999d999966999996996699699999666666666666666666666666666666666666666666666666666666666666
    666666666666666666645466666666666666666666664546666666666666699996999966999dd99966999996999999699999966666666666666666666666666666666666666666666666666666666666
    6666666666666666666454666666666666666666666444466666666666666996666999669999999966999996999999699999996666666666666666666666666666666666666666666666666666666666
    6666666666666666666454666666666666666666644555544666666666666999996699966999999969999996669996699999996666666666666666666666666666666666666666666666666666666666
    66666666666666666664546666666666666664444444dd444444466669996699996999996666666669999999666666999999996666666666666666666666666666666666666666666666666666666666
    666666666666666666645466666666666666455555d4444d5555546699999666966999999996666699999999999999999999996666666666666666666666666666666666666666666666666666666666
    6666666666666666666454666666666666664d55555555555555d46699999966669999999999999999999999999999999999999969999666666666666666666666666666666666666666666666666666
    66666666666666666664546666666666666dd4455555555555544dd669999999999999999999999999999999999999999999999999999999966666666666666666666666666666666666666666666666
    6666666666666666666454666666666666dddddddddddddddddddddd66999999999999999999999999999999999999999999999999999999666666666666669999966666666666666666666666666666
    666666666666666666645466666666666ddd44dddddddd4dddddd44dd6699999999999999999999999999999999999999999999999999999999999999966699999996666666666666666666666666666
    66666666666666666664546666666646ddd44dddd4dddd4ddddddd4ddd649999999999999999999999999999999999999999999999999999966666666666999999996666666666666666666666666666
    6666666666666666664444666666664ddd44dddd44dddd4dddd4ddd4ddd46666669999666669999999999999996666666666666666666666666666666669999666996699966666666666666666666666
    6666666666666666445555446666644dd44ddddd4ddddd4dddd44ddd4dd44666666666666666666666666666666666666666666666666666666666666669996656996999999666666666666666666666
    6666666666664444444dd444444464ddd44dddd44ddddd4ddddd4ddd4ddd4611111111111111111111111111111111111111111111111666666666669966999966996699969966666666666666666666
    66666666666455555d4444d5555544dd44ddddd44ddddd4ddddd4ddd4ddd4111111111111111111111111111111111111111111111111111166666999996666669999666669996666666666666666666
    666666666664d55555555555555d444d44ddddd4dddddd4ddddd44dd44dd4111111111111111111111111111111111111111111111666666666666999999966699999999999999666666666666666666
    6666666666dd4455555555555544dd4444ddddd4dddddd4ddddd44dd44dd4111111111111111111111111111111111111111116666666669999999999999999999999999999999999999999666666666
    666666666dddddddddddddddddddddd444dddd44dddddd4ddddd44dd44dd4111111111111111111111111111111111111111111111116666666699999999999999999999999999999999999996666666
    66666666ddd44dddddddd4dddddd44dd44dddd44dddddd4ddddd44dd44dd4111111111111111111111111111111111111111111111111111111166666666666666666666666666666666666666666666
    6666646ddd44dddd4d1dd5ddddddd54dd44ddd44dddddd4ddddd44dd44dd4111111111111111111111111111111111111111111111111111111111111111111116666666666666666666666666666666
    666664ddd45dddd44111d5dddd4dd45ddd4ddd44dddddd4ddddd44dd44dd4111111111111111111111111111111111111111111111111111111111111111111111111166666666666666666666666666
    666644dd454dddd4d1d1d5dddd44dd54dd44dd44dddddd4ddddd44dd4dda1111111111111111111111111111111111111111111111111111111111111111111111111111666666666666666666666666
    66664ddd55dddd44d1d1d5ddddd4dd55ddd4dd44dddddd4ddddd44d44dda1111111111111111111111111111111111111111111111111111111111111111111111111111166666666666666666666666
    66664dd454dddd441dd1d5ddddd4dd45ddd4ddd4ddddd44ddddd4dd4ddc11111111111111111111111111111111111111111111111111111111111111111111111111111116666666666666666666666
    66664dd45ddddd4d1dd1d5ddddd44dd54dd4ddd4ddddd44dddd44d4ddc111111111111111111111111111111111111111111111111111111111111111111111111111111111666666666666666666666
    66664dd45ddddd4d1dd1d5ddddd44dd54dd444dd4dddd4ddddd4444cc1111111111111111111111111111111111111111111111111111111111111111111111111111111111166666666666666666666
    66664dd44dddd44d1dd1d5ddddd44dd44dd4ccddd4dd44dddd44cccc11111111111111111111111111111111111111111111111111111111111111111111111111111111111116666666666666666666
    66664dd44dddd44d1dd1d4ddddd44dd44dd4c144444444444444111111111111111111111111111111111111111111111111111111111111111111111111111111111111111116666666666666666666
    66664dd44dddd44d1dd1d4ddddd44dd44dd411114444555d4111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111666666666666666666
    66664dd44dddd44d1dd1d4ddddd44dd44dd41111144444441111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111666666666666666666
    666664dd44ddd44d1d1dd4ddddd44dd4dd411111114444411111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111166666666666666666
    666664dd44ddd44dd11dd4ddddd44d44dd411111114d5d411111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111166666666666666666
    6666666dd44ddd4dd11d44ddddd4dd4dd4111111114555411111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111166666666666666666
    66666666d44ddd4ddddd44dddd44d4dd41111111114d5d411111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111116666666666666666
    6666666666444dd4dddd4ddddd44444411111111114333411111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111116666666666666666
    6666666666666ddd4dd44dddd444444111111111114d4d411111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111116666666666666666
    6666666666661444444444444441111111111111114d4d411111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111666666666666666
    6666666666661114444555d41111111111111111114d3d411111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111666666666666666
    6666666666661111444444411111111111111111114ddd411111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111666666666666666
    6666666666661111144444111111111111111111114555411111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111666666666666666
    666666666666111114d5d4111111111111111111114555411111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111166666666666666
    66666666666111111455541111111111111111111145d5411111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111166666666666666
    666666666661111114d5d41111111111111111111145d5411111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111166666666666666
    66666666666111111133341111111111111111111145d5411111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111166666666666666
    666666666661111111d4d41111111111111111111145d5411111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111116666666666666
    666666666661111111d4d4111111111111111111114545411111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111116666666666666
    666666666661111114d3d4111111111111111111114545411111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111116666666666666
    666666666661111114ddd4111111111111111111114545411111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111116666666666666
    666666666661111114555411111111111111111111454d411111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111116666666666666
    666666666661111114555411111111111111111111444d411111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111116666666666666
    6666666666611111145d54111111111111111111111114411111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111116666666666666
    6666666666611111145d54111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111666666666666
    6666666666611111145d54111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111666666666666
    6666666666611111145d54111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111666666666666
    6666666666611111145454111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111666666666666
    6666666666611111145454111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111666666666666
    6666666666611111145454111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111666666666666
    66666666666111111454d4111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111666666666666
    66666666666111111444d4111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111666666666666
    6666666666611111111144111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111666666666666
    6666666666661111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111666666666666
    6666666666661111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111666666666666
    6666666666661111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111666666666666
    6666666666661111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111666666666666
    6666666666661111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111666666666666
    6666666666666111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111666666666666
    6666666666666111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111666666666666
    6666666666666111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111666666666666
    6666666666666111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111666666666666
    6666666666666111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111666666666666
    6666666666666611111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111666666666666
    6666666666666611111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111116666666666666
    6666666666666611111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111116666666666666
    6666666666666611111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111116666666666666
    6666666666666611111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111116666666666666
    6666666666666661111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111333333333311111111111111111111116666666666666
    66666666666666611111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111113333d5555555d44411111111111111111116666666666666
    666666666666666111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111113335555dddddd5555533111111111111111116666666666666
    66666666666666611111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111113555ddddd99999dddd555411111111111111116666666666666
    666666666666666611111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111355dd999d9999999d99dd5d41111111111111116666666666666
    666666666666666611111111111111111111111111111111111111111111111111111111111111111111111111111111111111111113d5d99999d999ddddd999dd541111111111111166666666666666
    666666666666666611111111111111111111111111111111111111111111dddddddd11111111111111111111111111111111111111135dd99999d3dddd3dd9999d554111111111111166666666666666
    6666666666666666611111111111111111111111111111111111111111ddd5555555dd1111111111111111111111111111111111113d5dd9999d3dddddd3d9999d554111111111111166666666666666
    666666666666666666111111111111111111111111111111111111111dd5555555555dd11111111111111111111111111111111111455ddddddd33dddd33d999dd554111111111111166666666666666
    66666666666666666611111111111111111111111111111111111111dd555555555555dd1111111111111111111111111111111111455dd999999333333ddddddd55b111111111111166666666666666
    66666666666666666661111666666611111111111111111111111111dd55555555555ddddd11111111111111111111111111111111455dd99999999d99999999dd5bb113333333333666666666666666
    6666666666666666666666666666666661111111111111111111111ddd555ddd5555dd555ddd1111111111111111111111111111114d55ddd9999ddd9999999dd55b3333d5555555d444666666666666
    666666666666666666666665555555566611111111111111111111dddd555d5dd555d555555dd111111111111111111111111111114455555dddddddd99999dd553335555dddddd55555336666666666
    66666666666666666666555555555555566111111111111111ddddddddd555ddd555d5555555dd11111111111111111111111111111b4d555555555ddddddd5553555ddddd99999dddd5554666666666
    66666666666666666665555555555555556611ddddddd11dddd5555555dddddd5555d5555555ddd1111111111111111111111111111b34dddd5555555555555d355dd999d9999999d99dd5d466666666
    66666666666666666655555566555555555666555555ddddd5555555555555555555d555d555ddddd111111111111111111111111113333333333ddddddddd53d5d99999d999ddddd999dd5466666666
    6666666666666666655555566666555555666555555555ddddddddddd55555555555dd55dd55d5555ddd111111111111111111113333d5555555d444555d55535dd99999d3dddd3dd9999d5546666666
    66666666666666666555556655666555556665555555555ddddddddddd55555555555dddd555555555ddd111111111111111113335555dddddd5555533d5553d5dd9999d3dddddd3d9999d5546666666
    66666666666666665555556655566555556655556665555dddddddddddd555555555555555555555555dddd111111111111113555ddddd99999dddd5554ddd455ddddddd33dddd33d999dd5546666666
    66666666666666665555556666566555556655566666555dd5555dddddd55555555555555555555555ddd55ddddddddddddd355dd999d9999999d99dd5d4dd455dd999999333333ddddddd55b6666666
    666666666555556655555556655665555566555555665555555555ddddd555555555555555555555555555555dddddddddd3d5d99999d999ddddd999dd54d3455dd99999999d99999999dd5bb6666666
    6666666655555556655555555566555555566555556655555555555dddd555555555555555555555555555555dddddddddd35dd99999d3dddd3dd9999d554e4d55ddd9999ddd9999999dd55bb6666666
    6666666555555556666555556665555555556666666555555d55555dddd555555555555555555555555555555555555ddd3d5dd9999d3dddddd3d9999d554d4455555dddddddd99999dd55d3b6666666
    66666665555666555666666666555555555555666655555555d5555ddddddddddddddddddddddddddddddddddddddddddd455ddddddd33dddd33d999dd554ddb4d555555555ddddddd555d33b6666666
    66666665556666655555666555555555555555555555555555dd55dddddddddddddddddddddddddddddddddddddddddddd455dd999999333333ddddddd55bddb34dddd5555555555555dd533b6666666
    666666655565566555555555555555ddd555555555555555555dddd55555dddddddddddddddddddddddddddddddddddddd455dd99999999d99999999dd5bbdde3355dddddddddddddd5d55b3b6666666
    6666666655555665555555555555dddddd555555555555555555dd555555dddddddddddddddddddddddddddddddddddddd4d55ddd9999ddd9999999dd55bbdde33d55d5555dd555d555333b3b6666666
    666666566555665555555555555dd555ddd55555555555555555555555555555dddddddddddddddddddddddddddddddddd4455555dddddddd99999dd55d3bddde3ddd3d553d555d555d333bb36666666
    666666556666655555555555555d55555555555555555555555555555555555555dddddddddddddddddddddddddddddddddb4d555555555ddddddd555d33bddde43dd3ddd3dddd3ddddb3bb666666666
    666666555555555555555555555d55555555555555555555555555555555555555555555555ddddddddddddddddddddddddb34dddd5555555555555dd533bddde444b3ddd44ddd3ddd3bbb3666666666
    666666655555555555555555555ddddd55555555555555555555555555555555555555ddddddddddddddddddddddddddddde3355dddddddddddddd5d55b3bdddd444bbdddb4ddd4dd3ee366666666666
    66666666655555555555555555555ddddddddddddddddddddd555555ddddddddddddddddddddddddddddddddddddddddddde33d55d5555dd555d555333b3bddddddd4e33dbbdd4444ee6666666666666
    `)
tiles.setTilemap(tilemap`level1`)
mySprite = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . f f f f . . . . . . 
    . . . . f f f 2 2 f f f . . . . 
    . . . f f f 2 2 2 2 f f f . . . 
    . . f f f e e e e e e f f f . . 
    . . f f e 2 2 2 2 2 2 e e f . . 
    . f f e 2 f f f f f f 2 e f f . 
    . f f f f f e e e e f f f f f . 
    . . f e f b f 4 4 f b f e f . . 
    . . f e 4 1 f d d f 1 4 e f . . 
    . . . f e 4 d d d d 4 e f e . . 
    . . f e f 2 2 2 2 e d d 4 e . . 
    . . e 4 f 2 2 2 2 e d d e . . . 
    . . . . f 4 4 5 5 f e e . . . . 
    . . . . f f f f f f f . . . . . 
    . . . . f f f . . . . . . . . . 
    `, SpriteKind.Player)
mySprite.ay = 500
controller.moveSprite(mySprite, 100, 0)
scene.cameraFollowSprite(mySprite)
info.setLife(3)
